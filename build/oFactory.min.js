/*!**********************************************************************************
* The MIT License (MIT)
* 
* Copyright (c) 2013 Tarek Sherif
* 
* Permission is hereby granted, free of charge, to any person obtaining a copy of
* this software and associated documentation files (the "Software"), to deal in
* the Software without restriction, including without limitation the rights to
* use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
* the Software, and to permit persons to whom the Software is furnished to do so,
* subject to the following conditions:
* 
* The above copyright notice and this permission notice shall be included in all
* copies or substantial portions of the Software.
* 
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
* FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
* COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
* IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
* CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
***********************************************************************************/
var oFactory=function(){"use strict";var a=function(a,b,c){Object.getOwnPropertyNames(b).forEach(function(e){a[e]=c?b[e]:d(b[e])})},b=function(a,b){b.forEach(function(b){b.call(a,a)})},c=function(b,c,d){d.forEach(function(d){"function"==typeof d?c.push(d):"object"==typeof d&&a(b,d)})},d=function f(a){var b;return Array.isArray(a)?(b=[],a.forEach(function(a){b.push(f(a))})):"object"==typeof a?(b=Object.create(Object.getPrototypeOf(a)),Object.keys(a).forEach(function(c){b[c]=f(a[c])})):b=a,b},e=function(d){var f=!1,g=!1,h=function(c){var d,e=h.specs;return c=c||{},d=Object.create(e.proto),a(d,e.instance_properties),b(d,e.instance_modules),"function"==typeof c?c.call(d,d):a(d,c,!0),b(d,e.inits),f&&Object.seal(d),g&&Object.freeze(d),d};return h.specs={proto:d||{},instance_modules:[],instance_properties:{},inits:[]},h.mixin=function(){return c(this.specs.instance_properties,this.specs.instance_modules,Array.prototype.slice.call(arguments)),this},h.share=function(){var c=Array.prototype.slice.call(arguments),d=this.specs,e=[];return c.forEach(function(b){"function"==typeof b?e.push(b):"object"==typeof b&&a(d.proto,b,!0)}),b(d.proto,e),this},h.init=function(a){return this.specs.inits.push(a),this},h.freeze=function(){return g=!0,this},h.seal=function(){return f=!0,this},h.compose=function(){var a=[this].concat(Array.prototype.slice.call(arguments));return e.compose.apply(e,a)},h};return e.compose=function(){var b=e();return b.specs={proto:{},instance_modules:[],instance_properties:{},inits:[]},Array.prototype.slice.call(arguments).forEach(function(c){a(b.specs.proto,c.specs.proto),a(b.specs.instance_properties,c.specs.instance_properties),Array.prototype.push.apply(b.specs.instance_modules,c.specs.instance_modules),Array.prototype.push.apply(b.specs.inits,c.specs.inits)}),b},e}();